use sokol_bindings::{sg, cstr, Int};

const W: Int = 4;
const H: Int = 4;

// R, G, B, A, R, ...
pub const TEXTURE: [u8; W as usize * H as usize * 4 as usize ] = [
    0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF,
    0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
    0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF,
    0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
];

pub fn make() -> sg::Image {
    let mut image_desc = sg::ImageDesc::default();
    image_desc.width = W;
    image_desc.height = H;
    image_desc.data.subimage[0][0] = sg::range!(TEXTURE);
    image_desc.label = cstr!("checkerboard-texture");

    unsafe { sg::make_image(&image_desc) }
}